include ../mk/rules.mk
include ../mk/objective.mk

beepincludedir = $(includedir)/audacious

OBJECTIVE_LIBS = libaudacious.so
OBJECTIVE_LIBS_NOINST = libaudacious.a

LDFLAGS = -Wl,-export-dynamic

libaudacious_la_LIBADD = \
	$(GTK_LIBS)      \
	$(GCONF_LIBS)    \
	$(GNOMEVFS_LIBS)

CFLAGS += -fPIC -DPIC \
	$(GTK_CFLAGS)        \
	$(GCONF_CFLAGS)      \
	$(GNOMEVFS_CFLAGS)   \
	-I..		      \
	-I../intl

#if HAVE_GCONF
#    CONF_SRC = configdb_gconf.c
#else
    CONF_SRC = configdb_rcfile.c
#endif

#if HAVE_GNOME_VFS
#    VFS_SRC = vfs_gnome.c
#else
    VFS_SRC = vfs_stdio.c
#endif

SOURCES = \
	$(CONF_SRC) \
	rcfile.c \
	$(VFS_SRC) \
	configfile.c \
	beepctrl.c \
	dirbrowser.c \
	util.c \
	formatter.c \
	titlestring.c \
	xentry.c \
	xconvert.c \
	xml_document.c

OBJECTS = ${SOURCES:.c=.o}

HEADERS = \
	vfs.h rcfile.h configdb.h \
	configfile.h \
	beepctrl.h dirbrowser.h util.h \
	formatter.h titlestring.h xml_document.h
