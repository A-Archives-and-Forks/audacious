include ../../../mk/rules.mk
include ../../../mk/objective.mk

SUBDIRS = 

OBJECTIVE_LIBS = libscrobbler.so

OBJECTIVE_DATA = audioscrobbler.png:$(DATA_DIR)/icons

LIBDIR = $(plugindir)/$(GENERAL_PLUGIN_DIR)

LIBADD += $(GTK_LIBS) $(CURL_LIBS) $(MUSICBRAINZ_LIBS)

SOURCES = 			\
	fmt.c			\
	configure.c		\
	gtkstuff.c		\
	md5.c			\
	queue.c			\
	scrobbler.c		\
	xmms_scrobbler.c	\
	tags/tags.c		\
	tags/id3v1.c		\
	tags/id3v2.c		\
	tags/id3genres.c	\
	tags/ape.c		\
	tags/cdaudio.c		\
	tags/itunes.c		\
	tags/unicode.c		\
	tags/vorbis.c		\
	tags/wma.c

CFLAGS += -fPIC -DPIC $(GTK_CFLAGS) $(BEEP_DEFINES) $(CURL_CFLAGS) -I../../../intl -I../../..

OBJECTS = ${SOURCES:.c=.o}

clean-posthook:
	@$(RM) tags/*.o
